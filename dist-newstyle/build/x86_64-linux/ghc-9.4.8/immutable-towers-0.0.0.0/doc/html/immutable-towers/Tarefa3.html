<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa3</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">immutable-towers-0.0.0.0</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Gon&#231;alo Jos&#233; Arantes Fernandes &lt;a111855@alunos.uminho.pt&gt;<br />Felipe Youssef Braga da Silva &lt;a109385@alunos.uminho.pt&gt;</td></tr><tr><th>Maintainer</th><td>a111855@alunos.uminho.pt, a109385@alunos.uminho.pt</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>GHC2021</td></tr></table><p class="caption">Tarefa3</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 3 de LI1 em 2024/25.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:atualizaJogo">atualizaJogo</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; <a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a> -&gt; <a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></li><li class="src short"><a href="#v:atualizaTorres">atualizaTorres</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; [<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>] -&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>] -&gt; ([<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>], [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</li><li class="src short"><a href="#v:disparaTorre">disparaTorre</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; <a href="LI12425.html#t:Torre" title="LI12425">Torre</a> -&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>] -&gt; (<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>, [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</li><li class="src short"><a href="#v:atualizaInimigos">atualizaInimigos</a> :: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>] -&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</li><li class="src short"><a href="#v:atualizaInimigo">atualizaInimigo</a> :: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a> -&gt; <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></li><li class="src short"><a href="#v:encontraCaminho">encontraCaminho</a> :: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a>]</li><li class="src short"><a href="#v:calcPosIntermedia">calcPosIntermedia</a> :: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></li><li class="src short"><a href="#v:movePosicao">movePosicao</a> :: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></li><li class="src short"><a href="#v:calculaDirecao">calculaDirecao</a> :: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Direcao" title="LI12425">Direcao</a></li><li class="src short"><a href="#v:distancia">distancia</a> :: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></li><li class="src short"><a href="#v:atualizaDuracaoProjeteis">atualizaDuracaoProjeteis</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>] -&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>]</li><li class="src short"><a href="#v:ajustaVelocidade">ajustaVelocidade</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a> -&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></li><li class="src short"><a href="#v:calculaModificador">calculaModificador</a> :: <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a> -&gt; <a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></li><li class="src short"><a href="#v:posicaoValida">posicaoValida</a> :: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a> -&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:processaInimigos">processaInimigos</a> :: [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>] -&gt; <a href="LI12425.html#t:Base" title="LI12425">Base</a> -&gt; ([<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>], <a href="LI12425.html#t:Base" title="LI12425">Base</a>)</li><li class="src short"><a href="#v:atingiuBase">atingiuBase</a> :: <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a> -&gt; <a href="LI12425.html#t:Base" title="LI12425">Base</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:aplicarDanoFogo">aplicarDanoFogo</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>] -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></li><li class="src short"><a href="#v:atualizaPortal">atualizaPortal</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; <a href="LI12425.html#t:Portal" title="LI12425">Portal</a> -&gt; <a href="LI12425.html#t:Portal" title="LI12425">Portal</a></li><li class="src short"><a href="#v:atualizaOnda">atualizaOnda</a> :: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a> -&gt; <a href="LI12425.html#t:Onda" title="LI12425">Onda</a> -&gt; <a href="LI12425.html#t:Onda" title="LI12425">Onda</a></li><li class="src short"><a href="#v:ativaPortal">ativaPortal</a> :: <a href="LI12425.html#t:Portal" title="LI12425">Portal</a> -&gt; (<a href="LI12425.html#t:Portal" title="LI12425">Portal</a>, [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</li><li class="src short"><a href="#v:shouldSpawn">shouldSpawn</a> :: <a href="LI12425.html#t:Onda" title="LI12425">Onda</a> -&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:atualizaJogo" class="def">atualizaJogo</a> <a href="#v:atualizaJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o <code><a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></code> decorrido do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></td><td class="doc"><p>Recebe o pr&#243;prio <a href="Jogo.html">Jogo</a></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></td><td class="doc"><p>Devolve o <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code> com os seus valores atualizados</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:atualizaJogo" title="Tarefa3">atualizaJogo</a></code> &#233; respons&#225;vel por realizar todas as atualiza&#231;&#245;es necess&#225;rias do jogo,
com o decorrer do tempo. S&#227;o Integradas diversas fun&#231;&#245;es auxiliares que ajudam no processo,
como a movimenta&#231;&#227;o dos inimigos, a ativa&#231;&#227;o dos portais, o ataque das torres e o processo de
atualiza&#231;&#227;o da base. As atualiza&#231;&#245;es s&#227;o feitas com base no <code><a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></code> decorrido.</p><h1>_Processo geral:_</h1><ol><li value="1">Atualiza os portais ativos e gera novos inimigos a partir deles.</li><li value="2">Atualiza as torres, considerando os inimigos atingidos e os danos aplicados junto dos seus efeitos.</li><li value="3">Atualiza a movimenta&#231;&#227;o dos inimigos no mapa, considerando as modifica&#231;&#245;es dos inimigos ap&#243;s 
as intera&#231;&#245;es com as torres.</li><li value="4">Processa os inimigos restantes, removendo os que foram derrotados e atualizando a base de acordo 
com os inimigos que ainda est&#227;o no jogo.</li><li value="5">Atualiza os portais ativos ap&#243;s a passagem de tempo.</li></ol><p>Essa fun&#231;&#227;o garante que todas as din&#226;micas do jogo estejam em constante atualiza&#231;&#227;o conforme o tempo 
avan&#231;a, refletindo as intera&#231;&#245;es entre inimigos, torres, portais e a base do jogador.</p></div></div><div class="top"><p class="src"><a id="v:atualizaTorres" class="def">atualizaTorres</a> <a href="#v:atualizaTorres" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Tempo decorrido desde a &#250;ltima atualiza&#231;&#227;o das torres</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>]</td><td class="doc"><p>Lista de torres presentes no jogo</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</td><td class="doc"><p>Lista de inimigos presentes no jogo</p></td></tr><tr><td class="src">-&gt; ([<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>], [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</td><td class="doc"><p>Retorna a lista de torres atualizadas e a lista de inimigos atualizada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:atualizaTorres" title="Tarefa3">atualizaTorres</a></code> &#233; respons&#225;vel por configurar o comportamento das torres em rela&#231;&#227;o aos inimigos 
em um intervalo de tempo determinado; a cada itera&#231;&#227;o, ela verifica os inimigos no alcance de cada torre da lista,
dispara contra eles e atualiza os estados das torres e dos inimigos com base no tempo do gloss.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:atualizaTorres0">Fun&#231;&#245;es Auxiliares:</h2><details id="ch:atualizaTorres0"><summary class="hide-when-js-enabled">Expand</summary><ul><li><code><a href="Tarefa2.html#v:inimigosNoAlcance" title="Tarefa2">inimigosNoAlcance</a></code>:
    Filtra os inimigos que est&#227;o dentro do alcance de uma torre espec&#237;fica.</li><li><code><a href="Tarefa3.html#v:disparaTorre" title="Tarefa3">disparaTorre</a></code>:
    Aplica os danos da torre nos inimigos que est&#227;o dentro de seu alcance e atualiza o estado da torre.</li></ul></details><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:atualizaTorres1">Propriedades:</h2><details id="ch:atualizaTorres1"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">Caso Base:
    <code>
    atualizaTorres _ [] inimigos = ([], inimigos)
    </code>
    - Quando n&#227;o h&#225; torres para atualizar, a fun&#231;&#227;o retorna uma lista vazia de torres e a lista original de inimigos.</li><li value="2">Caso Recursivo:
    <code>
    atualizaTorres tempo (torre:restoTorres) inimigos
    </code>
    - Filtra os inimigos no alcance da primeira torre usando <code><a href="Tarefa2.html#v:inimigosNoAlcance" title="Tarefa2">inimigosNoAlcance</a></code>.
    - Atualiza a torre e os inimigos atingidos usando <code><a href="Tarefa3.html#v:disparaTorre" title="Tarefa3">disparaTorre</a></code>.
    - Aplica recursivamente a fun&#231;&#227;o para o restante das torres e os inimigos atualizados.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:disparaTorre" class="def">disparaTorre</a> <a href="#v:disparaTorre" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Tempo decorrido desde a &#250;ltima atualiza&#231;&#227;o da torre     </p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Torre" title="LI12425">Torre</a></td><td class="doc"><p>A torre que est&#225; realizando o ataque</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</td><td class="doc"><p>Lista de inimigos presentes no jogo</p></td></tr><tr><td class="src">-&gt; (<a href="LI12425.html#t:Torre" title="LI12425">Torre</a>, [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</td><td class="doc"><p>Retorna a torre atualizada e a lista de inimigos ap&#243;s o ataque</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:disparaTorre" title="Tarefa3">disparaTorre</a></code> &#233; respons&#225;vel por configurar o estado de uma torre e aplica seus efeitos nos inimigos 
dentro do seu alcance. Ela considera o tempo decorrido para reduzir o tempo de recarga 
de UMA torre e aplica dano e efeitos nos inimigos atingidos. Ela, resumidamente, configura as mec&#226;nicas
de uma torre, para que a atualizaTorres &quot;execute&quot; para todas as torres.</p><h1 class="subheading details-toggle-control details-toggle" data-details-id="ch:disparaTorre0">Processo geral:</h1><details id="ch:disparaTorre0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">Verifica se a torre est&#225; em recarga:
    - Se estiver, apenas atualiza o tempo de recarga restante.
    - Caso contr&#225;rio, passa para o pr&#243;ximo passo.</li><li value="2">Identifica os inimigos que est&#227;o no alcance da torre.</li><li value="3">Seleciona at&#233; um n&#250;mero m&#225;ximo de inimigos a serem atingidos, com base no par&#226;metro <code><a href="LI12425.html#v:rajadaTorre" title="LI12425">rajadaTorre</a></code>.</li><li value="4">Aplica os danos e efeitos da torre aos inimigos selecionados.</li><li value="5">Atualiza a lista de inimigos, substituindo os atingidos por suas vers&#245;es atualizadas.</li><li value="6">Reinicia o tempo de recarga da torre ap&#243;s o ataque.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:atualizaInimigos" class="def">atualizaInimigos</a> <a href="#v:atualizaInimigos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a></td><td class="doc"><p>Recebe o <code><a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a></code> do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code>, utilizado para validar as novas posi&#231;&#245;es dos inimigos(AKA Terreno)</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o tempo decorrido de <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</td><td class="doc"><p>Recebe a lista de <code><a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></code>s em <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</td><td class="doc"><p>Devolve a lista de Inimigos movimentados</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;atualizaInimigos&quot; &#233; respons&#225;vel por configurar a atualiza&#231;&#227;o completa em todos os inimigos no mapa, considerando os efeitos 
ativos de proj&#233;teis que podem alterar sua velocidade e vida, e ajustando suas posi&#231;&#245;es conforme a dire&#231;&#227;o e o terreno.</p><h2>Processo geral:</h2><ol><li value="1">A fun&#231;&#227;o &quot;atualizaInimigos&quot; aplica a fun&#231;&#227;o auxiliar &quot;atualizaInimigo&quot; a cada inimigo da lista usando a fun&#231;&#227;o<code><a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/GHC-List.html#v:map" title="GHC.List">map</a></code>.</li><li value="2">&quot;atualizaInimigo&quot; processa um &#250;nico inimigo, ajustando sua posi&#231;&#227;o e projetando-o da seguinte forma:
    - Atualiza os proj&#233;teis usando atualizaDuracaoProjeteis,
    - Configura o efeito de fogo usando danoFogo,
    - Calcula a velocidade ajustada baseada nos efeitos dos proj&#233;teis(velocidadeAjustada),
    - Determina a nova posi&#231;&#227;o considerando a dire&#231;&#227;o e velocidade ajustada,
    - Verifica se a nova posi&#231;&#227;o &#233; v&#225;lida no mapa:
        - Se v&#225;lida: Atualiza a posi&#231;&#227;o do inimigo,
        - Se inv&#225;lida: Altera sua dire&#231;&#227;o com &quot;mudaDirecao&quot;.</li></ol><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:atualizaInimigos0">Fun&#231;&#245;es Auxiliares:</h2><details id="ch:atualizaInimigos0"><summary class="hide-when-js-enabled">Expand</summary><ul><li>&quot;atualizaInimigo&quot;:
    Atualiza a posi&#231;&#227;o e os efeitos ativos de UM &#250;nico inimigo, garantindo que a posi&#231;&#227;o seja v&#225;lida no mapa.</li><li>&quot;atualizaDuracaoProjeteis&quot;:
    Atualiza a dura&#231;&#227;o dos proj&#233;teis aplicados ao inimigo, removendo efeitos expirados.</li><li><a href="AplicarDanoFogo.html">AplicarDanoFogo</a>:
    Respons&#225;vel pela configura&#231;&#227;o do dano por segundo do elemento fogo.</li><li>&quot;ajustaVelocidade&quot;:
    Calcula a velocidade ajustada do inimigo, considerando a velocidade base e os efeitos dos proj&#233;teis.</li><li>&quot;posicaoValida&quot;:
    Verifica se a nova posi&#231;&#227;o do inimigo &#233; v&#225;lida no mapa (por exemplo, n&#227;o &#233; um terreno de &#225;gua).</li><li>&quot;mudaDirecao&quot;:
    Altera a dire&#231;&#227;o do inimigo caso a posi&#231;&#227;o calculada seja inv&#225;lida.</li></ul></details></div></div><div class="top"><p class="src"><a id="v:atualizaInimigo" class="def">atualizaInimigo</a> <a href="#v:atualizaInimigo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a></td><td class="doc"><p>Recebe o mapa do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o da base no mapa</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o tempo decorrido</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></td><td class="doc"><p>Recebe o inimigo a ser atualizado</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></td><td class="doc"><p>Devolve o inimigo atualizado</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:atualizaInimigo" title="Tarefa3">atualizaInimigo</a></code> &#233; respons&#225;vel por calcular o novo estado de um inimigo ap&#243;s a passagem de um intervalo de tempo. 
Esta atualiza a posi&#231;&#227;o, a vida, os efeitos dos proj&#233;teis, e o trajeto do inimigo em dire&#231;&#227;o &#224; base.</p><h1>Processo geral:</h1><ol><li value="1">Atualiza os proj&#233;teis que est&#227;o a afetar o inimigo, reduzindo as suas dura&#231;&#245;es.</li><li value="2">Calcula o dano causado pelos proj&#233;teis (como efeitos de fogo) e ajusta a vida do inimigo.</li><li value="3">Ajusta a velocidade do inimigo com base nos proj&#233;teis que o atingem.</li><li value="4">Verifica se o inimigo j&#225; tem um caminho definido:
    - Se sim, segue o caminho restante.
    - Se n&#227;o, calcula um novo caminho em dire&#231;&#227;o &#224; base, caso poss&#237;vel.</li><li value="5">Atualiza a posi&#231;&#227;o do inimigo com base na sua velocidade e no tempo decorrido:
    - Se o progresso em dire&#231;&#227;o ao pr&#243;ximo ponto do caminho for maior ou igual a 1, passa para o pr&#243;ximo ponto.
    - Caso contr&#225;rio, calcula uma posi&#231;&#227;o intermedi&#225;ria entre os pontos.</li><li value="6">Atualiza a dire&#231;&#227;o e o estado de anima&#231;&#227;o do inimigo com base no movimento real.</li></ol><p>Essa fun&#231;&#227;o garante que os inimigos sigam suas rotas no mapa e sejam afetados pelos elementos do jogo, como proj&#233;teis e obst&#225;culos.</p></div></div><div class="top"><p class="src"><a id="v:encontraCaminho" class="def">encontraCaminho</a> <a href="#v:encontraCaminho" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a></td><td class="doc"><p>Recebe o mapa do Jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o inicial (inicialmente o portal)</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o final (Base do jogador)</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> [<a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a>]</td><td class="doc"><p>Devolve, se existir, uma lista de posi&#231;&#245;es a seguir</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:encontraCaminho" title="Tarefa3">encontraCaminho</a></code> gera o caminho em Terra mais curto, que ligue um Portal e a Base. </p><h1 class="subheading details-toggle-control details-toggle" data-details-id="ch:encontraCaminho0">Processo geral:</h1><details id="ch:encontraCaminho0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">Inicia a busca a partir da posi&#231;&#227;o inicial, marcando-a como visitada e registando-a no caminho.</li><li value="2">Em cada tile, verifica os vizinhos v&#225;lidos da posi&#231;&#227;o atual:
    - Um vizinho &#233; v&#225;lido se est&#225; dentro dos limites do mapa, &#233; acess&#237;vel (em terra) e se ainda n&#227;o foi visitado.</li><li value="3">Adiciona os vizinhos v&#225;lidos &#224; lista de posi&#231;&#245;es a serem processadas.</li><li value="4">Quando o Portal &#233; atingido, retorna o caminho percorrido at&#233; ele.</li><li value="5">Se n&#227;o h&#225; caminho poss&#237;vel, retorna <code><a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code>.</li></ol><p>Esta fun&#231;&#227;o &#233; usada para guiar os inimigos no jogo, permitindo que eles sigam o trajeto at&#233; a base.</p></details></div></div><div class="top"><p class="src"><a id="v:calcPosIntermedia" class="def">calcPosIntermedia</a> <a href="#v:calcPosIntermedia" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe uma posi&#231;&#227;o inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe uma posi&#231;&#227;o final</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Recebe o progresso entre os dois pontos</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Devolve a posi&#231;&#227;o interm&#233;dia</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:calcPosIntermedia" title="Tarefa3">calcPosIntermedia</a></code> calcula uma posi&#231;&#227;o intermedi&#225;ria entre duas posi&#231;&#245;es, 
baseando-se  num par&#226;metro de progresso t. O valor de t deve estar no intervalo [0,1], 
onde 0 corresponde &#224; posi&#231;&#227;o inicial e 1 &#224; posi&#231;&#227;o final.</p><p>Esta fun&#231;&#227;o &#233; necess&#225;ria para evitar saltos entre as movimenta&#231;&#245;es dos inimigos, fazendo
com que seja mais suave.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:calcPosIntermedia0">Exemplo de Aplica&#231;&#227;o:</h2><details id="ch:calcPosIntermedia0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>calcPosIntermedia (0, 0) (10, 10) 0.5
</code></strong>(5.0,5.0)
</pre></details></div></div><div class="top"><p class="src"><a id="v:movePosicao" class="def">movePosicao</a> <a href="#v:movePosicao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o final</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Recebe a dist&#225;ncia m&#225;xima de movimento</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Devolve a nova posi&#231;&#227;o ap&#243;s o movimento</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:movePosicao" title="Tarefa3">movePosicao</a></code> calcula a nova posi&#231;&#227;o de um objeto em movimento, partindo de uma posi&#231;&#227;o inicial
em dire&#231;&#227;o a uma posi&#231;&#227;o final, considerando uma dist&#226;ncia m&#225;xima de movimento.</p><ul><li>Caso o objeto esteja muito pr&#243;ximo do destino (menos de 0.01 unidades), este move-se diretamente para o destino.</li><li>Caso contr&#225;rio, a fun&#231;&#227;o normaliza o vetor dire&#231;&#227;o e aplica o movimento proporcional &#224; dist&#226;ncia.</li></ul><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:movePosicao0">Exemplo de Aplica&#231;&#227;o:</h2><details id="ch:movePosicao0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>movePosicao (0, 0) (10, 0) 3
</code></strong>(3.0,0.0)
</pre></details></div></div><div class="top"><p class="src"><a id="v:calculaDirecao" class="def">calculaDirecao</a> <a href="#v:calculaDirecao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe a posi&#231;&#227;o final</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Direcao" title="LI12425">Direcao</a></td><td class="doc"><p>Devolve a nova dire&#231;&#227;o</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:calculaDirecao" title="Tarefa3">calculaDirecao</a></code> determina a dire&#231;&#227;o entre duas posi&#231;&#245;es, com base nas coordenadas suas coordenadas.</p><h1 class="subheading details-toggle-control details-toggle" data-details-id="ch:calculaDirecao0">Processo geral:</h1><details id="ch:calculaDirecao0"><summary class="hide-when-js-enabled">Expand</summary><ul><li>Se a posi&#231;&#227;o final est&#225; &#224; direita da inicial, a dire&#231;&#227;o &#233; <code><a href="LI12425.html#v:Este" title="LI12425">Este</a></code>.</li><li>Se est&#225; &#224; esquerda, a dire&#231;&#227;o &#233; <code><a href="LI12425.html#v:Oeste" title="LI12425">Oeste</a></code>.</li><li>Se est&#225; acima, a dire&#231;&#227;o &#233; <code><a href="LI12425.html#v:Norte" title="LI12425">Norte</a></code>.</li><li>Caso contr&#225;rio, a dire&#231;&#227;o &#233; <code><a href="LI12425.html#v:Sul" title="LI12425">Sul</a></code>.</li></ul></details></div></div><div class="top"><p class="src"><a id="v:distancia" class="def">distancia</a> <a href="#v:distancia" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe um ponto</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe um segundo ponto</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Devolve a dist&#226;ncia entre eles</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:distancia" title="Tarefa3">distancia</a></code> calcula a dist&#226;ncia entre dois pontos no plano.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:distancia0">Exemplo de Aplica&#231;&#227;o:</h2><details id="ch:distancia0"><summary class="hide-when-js-enabled">Expand</summary><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>distancia (0, 0) (3, 4)
</code></strong>5.0
</pre></details></div></div><div class="top"><p class="src"><a id="v:atualizaDuracaoProjeteis" class="def">atualizaDuracaoProjeteis</a> <a href="#v:atualizaDuracaoProjeteis" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o tempo decorrido desde a &#250;ltima atualiza&#231;&#227;o</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>]</td><td class="doc"><p>Recebe a lista de projeteis a ser atualizada</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>]</td><td class="doc"><p>Devolve a lista de projeteis a ser atualizada</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:atualizaDuracaoProjeteis" title="Tarefa3">atualizaDuracaoProjeteis</a></code> atualiza a dura&#231;&#227;o dos proj&#233;teis no jogo com base no tempo decorrido. 
Proj&#233;teis com dura&#231;&#227;o finita sofrei uma redu&#231;&#227;o da sua dura&#231;&#227;o e s&#227;o removidos se esta atingir 0. 
Proj&#233;teis com dura&#231;&#227;o infinita n&#227;o s&#227;o alterados.</p><h1 class="subheading details-toggle-control details-toggle" data-details-id="ch:atualizaDuracaoProjeteis0">Processo geral:</h1><details id="ch:atualizaDuracaoProjeteis0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">Reduz a dura&#231;&#227;o de proj&#233;teis com dura&#231;&#227;o finita.</li><li value="2">Remove proj&#233;teis cuja dura&#231;&#227;o chegou a zero.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:ajustaVelocidade" class="def">ajustaVelocidade</a> <a href="#v:ajustaVelocidade" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Recebe a velocidade inicial do inimigo</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>]</td><td class="doc"><p>Recebe a lista de projeteis do inimigo</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Devolve a velocidade ajustada</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:ajustaVelocidade" title="Tarefa3">ajustaVelocidade</a></code> &#233; respons&#225;vel por calcular a velocidade ajustada com rela&#231;&#227;o aos impactos de uma lista de proj&#233;teis. 
Sempre levando em considera&#231;&#227;o modificadores espec&#237;ficos de cada proj&#233;til!</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:ajustaVelocidade0">Configura&#231;&#227;o:</h2><details id="ch:ajustaVelocidade0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">**Modificadores de Velocidade:**
    <code>
    | modificador = calculaModificador projetil
    </code>
    - Para cada proj&#233;til, a fun&#231;&#227;o <code><a href="Tarefa3.html#v:calculaModificador" title="Tarefa3">calculaModificador</a></code> &#233; chamada para calcular o impacto espec&#237;fico sobre a velocidade.</li><li value="2">**Soma dos Modificadores:**
    - Os modificadores de velocidade de todos os proj&#233;teis s&#227;o somados para ajustar a velocidade final.</li><li value="3">**Velocidade Final:**
    - A fun&#231;&#227;o garante que a velocidade n&#227;o possa ser negativa, aplicando 'max 0' &#224; soma dos impactos.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:calculaModificador" class="def">calculaModificador</a> <a href="#v:calculaModificador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Recebe a velocidade atual do inimigo</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a></td><td class="doc"><p>Recebe um projetil da lista de projeteis do inimigo</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Devolve a redu&#231;&#227;o de velocidade necess&#225;ria</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:calculaModificador" title="Tarefa3">calculaModificador</a></code> &#233; respons&#225;vel por determinar o impacto de um proj&#233;til sobre a velocidade, 
baseado em seu tipo e tempo restante de sua dura&#231;&#227;o.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:calculaModificador0">Configura&#231;&#227;o:</h2><details id="ch:calculaModificador0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">**Proj&#233;til do Tipo <code><a href="LI12425.html#v:Resina" title="LI12425">Resina</a></code>:**
    - Se o tempo restante (t) for maior que zero, aplica uma redu&#231;&#227;o de 0.6 &#224; velocidade.
    - Caso contr&#225;rio, n&#227;o aplica impacto.</li><li value="2">**Proj&#233;til do Tipo <code><a href="LI12425.html#v:Gelo" title="LI12425">Gelo</a></code>:**
    - Se o tempo restante (t) for maior que zero, aplica uma redu&#231;&#227;o de 1 &#224; velocidade.
    - Caso contr&#225;rio, n&#227;o aplica impacto.</li><li value="3">**Outros Tipos de Proj&#233;teis:**
    - N&#227;o aplicam nenhum modificador &#224; velocidade, retornando 0.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:posicaoValida" class="def">posicaoValida</a> <a href="#v:posicaoValida" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Mapa" title="LI12425">Mapa</a></td><td class="doc"><p>Recebe o mapa do jogo</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Posicao" title="LI12425">Posicao</a></td><td class="doc"><p>Recebe uma posicao</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Devolve um Booleano</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa3.html#v:posicaoValida" title="Tarefa3">posicaoValida</a></code> &#233; respons&#225;vel por verificar se uma posi&#231;&#227;o em um mapa &#233; v&#225;lida, ou seja, 
se o terreno na posi&#231;&#227;o especificada n&#227;o &#233; de &#225;gua ou relva!!</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:posicaoValida0">Configura&#231;&#227;o:</h2><details id="ch:posicaoValida0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">**Verifica&#231;&#227;o de Terreno:**
    - A fun&#231;&#227;o acessa o mapa na posi&#231;&#227;o correspondente (x, y) e verifica o tipo de terreno. 
    - Se o terreno for <code><a href="LI12425.html#v:Agua" title="LI12425">Agua</a></code> ou <code><a href="LI12425.html#v:Relva" title="LI12425">Relva</a></code>, a posi&#231;&#227;o &#233; considerada inv&#225;lida.</li><li value="2">**Acesso ao Mapa:**
    - A fun&#231;&#227;o utiliza o operador de &#237;ndice <code><a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/GHC-List.html#v:-33--33-" title="GHC.List">!!</a></code> para acessar o mapa e determinar o terreno na posi&#231;&#227;o fornecida.
    - As coordenadas x e y s&#227;o arredondadas para inteiros usando <code><a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#v:floor" title="Prelude">floor</a></code> antes de serem usadas como &quot;&#237;ndices&quot;.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:processaInimigos" class="def">processaInimigos</a> <a href="#v:processaInimigos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>]</td><td class="doc"><p>Recebe a lista de inimigos a serem processados</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Base" title="LI12425">Base</a></td><td class="doc"><p>Recebe a base do jogo</p></td></tr><tr><td class="src">-&gt; ([<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>], <a href="LI12425.html#t:Base" title="LI12425">Base</a>)</td><td class="doc"><p>Devolve a lista de inimigos restates e a base atualizada</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;processaInimigos&quot; &#233; respons&#225;vel por processar a lista de inimigos, atualizando o estado da base e r
emovendo inimigos que tenham sido derrotados ou atingido a base.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:processaInimigos0">Configura&#231;&#227;o:</h2><details id="ch:processaInimigos0"><summary class="hide-when-js-enabled">Expand</summary><ol><li value="1">A fun&#231;&#227;o &quot;processaInimigos&quot; utiliza a fun&#231;&#227;o &quot;foldl&quot; para processar cada inimigo da lista, verificando as seguintes condi&#231;&#245;es:
   - Se o inimigo foi derrotado (vida &lt;= 0), ele &#233; removido e o butim do inimigo &#233; adicionado aos cr&#233;ditos da base.
   - Se o inimigo atingiu a base, a vida da base &#233; reduzida pelo ataque do inimigo.
   - Caso contr&#225;rio, o inimigo permanece na lista.</li></ol></details></div></div><div class="top"><p class="src"><a id="v:atingiuBase" class="def">atingiuBase</a> <a href="#v:atingiuBase" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></td><td class="doc"><p>Recebe o inimigo a ser verificado</p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Base" title="LI12425">Base</a></td><td class="doc"><p>Recebe a base do jogador</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Devolve um Booleano</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;atingiuBase&quot; verifica se um inimigo atingiu a base, comparando suas posi&#231;&#245;es.</p></div></div><div class="top"><p class="src"><a id="v:aplicarDanoFogo" class="def">aplicarDanoFogo</a> <a href="#v:aplicarDanoFogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o tempo decorrido desde a &#250;ltima atualiza&#231;&#227;o</p></td></tr><tr><td class="src">-&gt; [<a href="LI12425.html#t:Projetil" title="LI12425">Projetil</a>]</td><td class="doc"><p>Recebe a lista de projeteis atualizados</p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Prelude.html#t:Float" title="Prelude">Float</a></td><td class="doc"><p>Devolve o dano a aplicar no devido frame</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;aplicarDanoFogo&quot; aplica dano aos inimigos com base nos proj&#233;teis de fogo que atingem o inimigo, 
levando em considera&#231;&#227;o a dura&#231;&#227;o desses proj&#233;teis.</p><h2 class="subheading details-toggle-control details-toggle" data-details-id="ch:aplicarDanoFogo0">Funcionamento:</h2><details id="ch:aplicarDanoFogo0"><summary class="hide-when-js-enabled">Expand</summary><p>A fun&#231;&#227;o percorre a lista de proj&#233;teis e, caso o tipo do proj&#233;til seja <a href="Fogo.html">Fogo</a>, aplica um dano de 10 por segundo 
multiplicado pelo tempo. Se o proj&#233;til n&#227;o for de fogo, n&#227;o causa dano.</p></details></div></div><div class="top"><p class="src"><a id="v:atualizaPortal" class="def">atualizaPortal</a> <a href="#v:atualizaPortal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o <code><a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></code> decorrido do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Portal" title="LI12425">Portal</a></td><td class="doc"><p>Recebe um <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code> do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Portal" title="LI12425">Portal</a></td><td class="doc"><p>Devolve o <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code> com os respetivos valores atualizados</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;atualizaPortal&quot; &#233; respons&#225;vel por atualizar os temporizadores das ondas dos portais 
de acordo com o tempo decorrido no jogo. Ela integra a fun&#231;&#227;o &quot;atualizaOnda&quot;, que atualiza 
os detalhes de cada onda individualmente.</p><h2>Funcionamento:</h2><p>A fun&#231;&#227;o percorre as ondas do portal e para cada onda chama a fun&#231;&#227;o &quot;atualizaOnda&quot; 
para atualizar o seu temporizador com base no tempo decorrido.</p></div></div><div class="top"><p class="src"><a id="v:atualizaOnda" class="def">atualizaOnda</a> <a href="#v:atualizaOnda" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></td><td class="doc"><p>Recebe o <code><a href="LI12425.html#t:Tempo" title="LI12425">Tempo</a></code> decorrido do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Onda" title="LI12425">Onda</a></td><td class="doc"><p>Recebe uma <code><a href="LI12425.html#t:Onda" title="LI12425">Onda</a></code> de um <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code></p></td></tr><tr><td class="src">-&gt; <a href="LI12425.html#t:Onda" title="LI12425">Onda</a></td><td class="doc"><p>Devolve a <code><a href="LI12425.html#t:Onda" title="LI12425">Onda</a></code> com os respetivos valores atualizados</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;atualizaOnda&quot; &#233; respons&#225;vel por atualizar o estado de uma onda de inimigos em um portal 
com base no tempo decorrido. Ela ajusta os temporizadores de ativa&#231;&#227;o e lan&#231;amento dos inimigos 
de acordo com o tempo passado.</p><h2>Comportamento:</h2><ul><li>Se a onda ainda n&#227;o est&#225; ativa (entrada &gt; 0), o tempo de entrada diminui.</li><li>Se a onda j&#225; est&#225; ativa (entrada == 0) e o delay de lan&#231;amento dos inimigos ainda n&#227;o expirou (delay &gt; 0), o tempo do delay diminui.</li><li>Se a onda est&#225; ativa e o delay expirou (delay == 0), o temporizador &#233; reiniciado para o valor do ciclo de onda.</li></ul><h2>Funcionamento:</h2><p>A fun&#231;&#227;o realiza a atualiza&#231;&#227;o dos campos da <a href="Onda.html">Onda</a> conforme a condi&#231;&#227;o:
1. Se a onda ainda n&#227;o foi ativada, o tempo de entrada diminui.
2. Se a onda est&#225; ativa, mas ainda h&#225; delay, o tempo de delay diminui.
3. Se o delay expirou, o temporizador &#233; resetado para o ciclo da onda.</p></div></div><div class="top"><p class="src"><a id="v:ativaPortal" class="def">ativaPortal</a> <a href="#v:ativaPortal" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Portal" title="LI12425">Portal</a></td><td class="doc"><p>Recebe um <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code> do <code><a href="LI12425.html#t:Jogo" title="LI12425">Jogo</a></code>       </p></td></tr><tr><td class="src">-&gt; (<a href="LI12425.html#t:Portal" title="LI12425">Portal</a>, [<a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a>])</td><td class="doc"><p>Devolve um par com o respetivo <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code> atualizada, e a lista de <code><a href="LI12425.html#t:Inimigo" title="LI12425">Inimigo</a></code> lan&#231;ados por ele</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;ativaPortal&quot; &#233; respons&#225;vel por ativar um portal e lan&#231;ar inimigos caso haja alguma onda ativa.
Ela verifica se o portal possui ondas ativas e, se for o caso, chama a fun&#231;&#227;o <code><a href="Tarefa2.html#v:ativaInimigo" title="Tarefa2">ativaInimigo</a></code> para gerar 
os inimigos correspondentes.</p><h2>Comportamento:</h2><ul><li>Se o portal tiver uma onda ativa, a fun&#231;&#227;o chama &quot;ativaInimigo&quot; para gerar os inimigos e atualiza o portal.</li><li>Se o portal n&#227;o tiver ondas ativas, ele permanece no mesmo estado e n&#227;o lan&#231;a inimigos.</li></ul><h2>Funcionamento:</h2><p>A fun&#231;&#227;o verifica as ondas ativas no portal:
- Se houver uma onda ativa (com &quot;entradaOnda&quot; maior que zero), a fun&#231;&#227;o chama &quot;ativaInimigo&quot; para lan&#231;ar inimigos e atualiza o portal.
- Se n&#227;o houver ondas ativas, o portal permanece inalterado e n&#227;o h&#225; inimigos gerados.</p></div></div><div class="top"><p class="src"><a id="v:shouldSpawn" class="def">shouldSpawn</a> <a href="#v:shouldSpawn" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12425.html#t:Onda" title="LI12425">Onda</a></td><td class="doc"><p>Recebe uma <code><a href="LI12425.html#t:Onda" title="LI12425">Onda</a></code> de um <code><a href="LI12425.html#t:Portal" title="LI12425">Portal</a></code></p></td></tr><tr><td class="src">-&gt; <a href="${pkgroot}/../../../share/doc/ghc-9.4.8/html/libraries/base-4.17.2.1/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>Devolve um Booleano                 </p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o &quot;shouldSpawn&quot; verifica se uma onda deve ou n&#227;o lan&#231;ar um inimigo. A condi&#231;&#227;o para o lan&#231;amento de um inimigo &#233; que a onda esteja ativa e que o <code><a href="LI12425.html#v:tempoOnda" title="LI12425">tempoOnda</a></code> (tempo de delay) seja igual a 0.</p><h2>Comportamento:</h2><ul><li>A onda &#233; considerada ativa quando &quot;entradaOnda&quot; &#233; 0, o que significa que a onda j&#225; foi ativada.</li><li>O lan&#231;amento de inimigos &#233; condicionado a o tempo de delay (&quot;tempoOnda&quot;) ser igual a 0, ou seja, n&#227;o h&#225; mais atraso para o lan&#231;amento.</li></ul><h2>Funcionamento:</h2><p>A fun&#231;&#227;o retorna <a href="True.html">True</a> se a onda estiver ativa e sem delay, ou seja, pronta para lan&#231;ar um inimigo. Caso contr&#225;rio, retorna <a href="False.html">False</a>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.27.0</p></div></body></html>